<!DOCTYPE html>
<html class="no-js" lang="zh">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width,initial-scale=1" name="viewport"/>
<link href="https://WncFht.github.io/cs61b/note_en/19.%20Hashing/" rel="canonical"/>
<link href="../18.%20Red%20Black%20Trees/" rel="prev"/>
<link href="../20.%20Heaps%20and%20PQs/" rel="next"/>
<link href="../../../assets/images/favicon.png" rel="icon"/>
<meta content="mkdocs-1.6.1, mkdocs-material-9.5.34" name="generator"/>
<title>Lecture - wnc 的咖啡馆</title>
<link href="../../../assets/stylesheets/main.35f28582.min.css" rel="stylesheet"/>
<link href="../../../assets/stylesheets/palette.06af60db.min.css" rel="stylesheet"/>
<link href="../../../css/heti.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.css" rel="stylesheet"/>
<link href="../../../css/tasklist.css" rel="stylesheet"/>
<link href="../../../css/custom.css" rel="stylesheet"/>
<link href="../../../css/card.css" rel="stylesheet"/>
<link href="../../../css/flink.css" rel="stylesheet"/>
<link href="../../../css/changelog_extra.css" rel="stylesheet"/>
<link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet"/>
<script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
<link href="../../../assets/stylesheets/glightbox.min.css" rel="stylesheet"/><style>
    html.glightbox-open { overflow: initial; height: 100%; }
    .gslide-title { margin-top: 0px; user-select: text; }
    .gslide-desc { color: #666; user-select: text; }
    .gslide-image img { background: white; }
    .gscrollbar-fixer { padding-right: 15px; }
    .gdesc-inner { font-size: 0.75rem; }
    body[data-md-color-scheme="slate"] .gdesc-inner { background: var(--md-default-bg-color);}
    body[data-md-color-scheme="slate"] .gslide-title { color: var(--md-default-fg-color);}
    body[data-md-color-scheme="slate"] .gslide-desc { color: var(--md-default-fg-color);}</style> <script src="../../../assets/javascripts/glightbox.min.js"></script></head>
<body data-md-color-accent="black" data-md-color-primary="black" data-md-color-scheme="slate" dir="ltr">
<input autocomplete="off" class="md-toggle" data-md-toggle="drawer" id="__drawer" type="checkbox"/>
<input autocomplete="off" class="md-toggle" data-md-toggle="search" id="__search" type="checkbox"/>
<label class="md-overlay" for="__drawer"></label>
<div data-md-component="skip">
<a class="md-skip" href="#lecture">
          跳转至
        </a>
</div>
<div data-md-component="announce">
</div>
<header class="md-header md-header--shadow md-header--lifted" data-md-component="header">
<nav aria-label="页眉" class="md-header__inner md-grid">
<a aria-label="wnc 的咖啡馆" class="md-header__button md-logo" data-md-component="logo" href="../../.." title="wnc 的咖啡馆">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 21h18v-2H2M20 8h-2V5h2m0-2H4v10a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4v-3h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2"></path></svg>
</a>
<label class="md-header__button md-icon" for="__drawer">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"></path></svg>
</label>
<div class="md-header__title" data-md-component="header-title">
<div class="md-header__ellipsis">
<div class="md-header__topic">
<span class="md-ellipsis">
            wnc 的咖啡馆
          </span>
</div>
<div class="md-header__topic" data-md-component="header-topic">
<span class="md-ellipsis">
            
              Lecture
            
          </span>
</div>
</div>
</div>
<form class="md-header__option" data-md-component="palette">
<input aria-label="Switch to light mode" class="md-option" data-md-color-accent="black" data-md-color-media="" data-md-color-primary="black" data-md-color-scheme="slate" id="__palette_0" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_1" hidden="" title="Switch to light mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"></path></svg>
</label>
<input aria-label="Switch to dark mode" class="md-option" data-md-color-accent="indigo" data-md-color-media="" data-md-color-primary="white" data-md-color-scheme="default" id="__palette_1" name="__palette" type="radio"/>
<label class="md-header__button md-icon" for="__palette_0" hidden="" title="Switch to dark mode">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"></path></svg>
</label>
</form>
<script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
<label class="md-header__button md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
</label>
<div class="md-search" data-md-component="search" role="dialog">
<label class="md-search__overlay" for="__search"></label>
<div class="md-search__inner" role="search">
<form class="md-search__form" name="search">
<input aria-label="搜索" autocapitalize="off" autocomplete="off" autocorrect="off" class="md-search__input" data-md-component="search-query" name="query" placeholder="搜索" required="" spellcheck="false" type="text"/>
<label class="md-search__icon md-icon" for="__search">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"></path></svg>
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"></path></svg>
</label>
<nav aria-label="查找" class="md-search__options">
<a aria-label="分享" class="md-search__icon md-icon" data-clipboard="" data-clipboard-text="" data-md-component="search-share" href="javascript:void(0)" tabindex="-1" title="分享">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91s2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08"></path></svg>
</a>
<button aria-label="清空当前内容" class="md-search__icon md-icon" tabindex="-1" title="清空当前内容" type="reset">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"></path></svg>
</button>
</nav>
<div class="md-search__suggest" data-md-component="search-suggest"></div>
</form>
<div class="md-search__output">
<div class="md-search__scrollwrap" data-md-scrollfix="" tabindex="0">
<div class="md-search-result" data-md-component="search-result">
<div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
<ol class="md-search-result__list" role="presentation"></ol>
</div>
</div>
</div>
</div>
</div>
<div class="md-header__source">
<a class="md-source" data-md-component="source" href="https://github.com/WncFht/WncFht.github.io" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 21h18v-2H2M20 8h-2V5h2m0-2H4v10a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4v-3h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2"></path></svg>
</div>
<div class="md-source__repository">
    wnc's café
  </div>
</a>
</div>
</nav>
<nav aria-label="标签" class="md-tabs" data-md-component="tabs">
<div class="md-grid">
<ul class="md-tabs__list">
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../..">
        
  
    
  
  Home

      </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../cs61a/COMPOSING%20PROGRAMS/">
          
  
    
  
  cs61a

        </a>
</li>
<li class="md-tabs__item md-tabs__item--active">
<a class="md-tabs__link" href="../01.%20Intro%2C%20Hello%20World%20Java/">
          
  
    
  
  cs61b

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../cs61c/cs61c/">
          
  
    
  
  cs61c

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../slam/%E8%A7%86%E8%A7%89SLAM%E5%8D%81%E5%9B%9B%E8%AE%B2/">
          
  
    
  
  SLAM

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../tygx_exp/eng_fht/">
          
  
    
  
  天元公学生存指南

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../Dive%20into%20deep%20learning/Dive%20into%20Deep%20Learning/">
          
  
    
  
  动手学深度学习

        </a>
</li>
<li class="md-tabs__item">
<a class="md-tabs__link" href="../../../summary/2024summer_vacation/">
          
  
    
  
  总结

        </a>
</li>
</ul>
</div>
</nav>
</header>
<div class="md-container" data-md-component="container">
<main class="md-main" data-md-component="main">
<div class="md-main__inner md-grid">
<div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="导航栏" class="md-nav md-nav--primary md-nav--lifted" data-md-level="0">
<label class="md-nav__title" for="__drawer">
<a aria-label="wnc 的咖啡馆" class="md-nav__button md-logo" data-md-component="logo" href="../../.." title="wnc 的咖啡馆">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 21h18v-2H2M20 8h-2V5h2m0-2H4v10a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4v-3h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2"></path></svg>
</a>
    wnc 的咖啡馆
  </label>
<div class="md-nav__source">
<a class="md-source" data-md-component="source" href="https://github.com/WncFht/WncFht.github.io" title="前往仓库">
<div class="md-source__icon md-icon">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M2 21h18v-2H2M20 8h-2V5h2m0-2H4v10a4 4 0 0 0 4 4h6a4 4 0 0 0 4-4v-3h2a2 2 0 0 0 2-2V5a2 2 0 0 0-2-2"></path></svg>
</div>
<div class="md-source__repository">
    wnc's café
  </div>
</a>
</div>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../..">
<span class="md-ellipsis">
    Home
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_2" type="checkbox"/>
<label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
<span class="md-ellipsis">
    cs61a
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_2_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_2">
<span class="md-nav__icon md-icon"></span>
            cs61a
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61a/COMPOSING%20PROGRAMS/">
<span class="md-ellipsis">
    1. COMPOSING PROGRAMS
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61a/cs61a/">
<span class="md-ellipsis">
    Cs61a
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3" type="checkbox"/>
<label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="">
<span class="md-ellipsis">
    cs61b
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_3">
<span class="md-nav__icon md-icon"></span>
            cs61b
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
<input checked="" class="md-nav__toggle md-toggle" id="__nav_3_1" type="checkbox"/>
<label class="md-nav__link" for="__nav_3_1" id="__nav_3_1_label" tabindex="">
<span class="md-ellipsis">
    note_en
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="true" aria-labelledby="__nav_3_1_label" class="md-nav" data-md-level="2">
<label class="md-nav__title" for="__nav_3_1">
<span class="md-nav__icon md-icon"></span>
            note_en
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../01.%20Intro%2C%20Hello%20World%20Java/">
<span class="md-ellipsis">
    01. Intro, Hello World Java
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../02.%20Defining%20and%20Using%20Classes/">
<span class="md-ellipsis">
    02. Defining and Using Classes
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../03.%20Testing/">
<span class="md-ellipsis">
    03. TestingTesting and Selection Sort
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../04.%20References%2C%20Recursion%2C%20and%20Lists/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../05.%20SLLists%2C%20Nested%20Classes%2C%20Sentinel%20Nodes/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../06.%20DLLists%2C%20Arrays/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../07.%20ALists%2C%20Resizing%2C%20vs.%20SLists/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../08.%20Inheritance%2C%20Implements/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../09.%20Extends%2C%20Casting%2C%20Higher%20Order%20Functions/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../10.%20Subtype%20Polymorphism%20vs.%20HoFs/">
<span class="md-ellipsis">
    Overview
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../11.%20Exceptions%2C%20Iterators%2C%20Object%20Methods/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../12.%20Command%20Line%20Programming%2C%20Git%2C%20Project%202%20Preview/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../13.%20Asymptotics%20I/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../14.%20Disjoint%20Sets/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../15.%20Asymptotics%20II/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../16.%20ADTs%2C%20Sets%2C%20Maps%2C%20BSTs/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../17.%20B-Trees%20%282-3%2C%202-3-4%20Trees%29/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../18.%20Red%20Black%20Trees/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item md-nav__item--active">
<input class="md-nav__toggle md-toggle" id="__toc" type="checkbox"/>
<a class="md-nav__link md-nav__link--active" href="./">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../20.%20Heaps%20and%20PQs/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../21.%20Tree%20and%20Graph%20Traversals/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../22.%20Graph%20Traversals%20and%20Implementations/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../23.%20Shortest%20Paths/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../24.%20Minimum%20Spanning%20Trees/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../25.%20Range%20Searching%20and%20Multi-Dimensional%20Data/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../26.%20Prefix%20Operations%20and%20Tries/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../27.%20Software%20Engineering%20I/">
<span class="md-ellipsis">
    Lecture
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_4" type="checkbox"/>
<label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
<span class="md-ellipsis">
    cs61c
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_4_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_4">
<span class="md-nav__icon md-icon"></span>
            cs61c
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c/">
<span class="md-ellipsis">
    Cs61c
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec06/">
<span class="md-ellipsis">
    Cs61c lec06
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec07/">
<span class="md-ellipsis">
    Cs61c lec07
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec08/">
<span class="md-ellipsis">
    Cs61c lec08
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec09/">
<span class="md-ellipsis">
    Cs61c lec09
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec10/">
<span class="md-ellipsis">
    Cs61c lec10
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec11/">
<span class="md-ellipsis">
    Cs61c lec11
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec12/">
<span class="md-ellipsis">
    Cs61c lec12
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec13/">
<span class="md-ellipsis">
    Cs61c lec13
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec14/">
<span class="md-ellipsis">
    Cs61c lec14
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/cs61c_lec15/">
<span class="md-ellipsis">
    Cs61c lec15
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../cs61c/%E8%B7%B3%E8%BD%AC%E5%92%8C%E8%BF%94%E5%9B%9E%E7%9A%84%E5%87%BD%E6%95%B0/">
<span class="md-ellipsis">
    跳转和返回的函数
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_5" type="checkbox"/>
<label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
<span class="md-ellipsis">
    SLAM
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_5_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_5">
<span class="md-nav__icon md-icon"></span>
            SLAM
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../slam/%E8%A7%86%E8%A7%89SLAM%E5%8D%81%E5%9B%9B%E8%AE%B2/">
<span class="md-ellipsis">
    视觉SLAM十四讲
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_6" type="checkbox"/>
<label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
<span class="md-ellipsis">
    天元公学生存指南
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_6_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_6">
<span class="md-nav__icon md-icon"></span>
            天元公学生存指南
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tygx_exp/eng_fht/">
<span class="md-ellipsis">
    英语经验分享
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tygx_exp/math_fht/">
<span class="md-ellipsis">
    数学经验分享
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tygx_exp/phy_fht/">
<span class="md-ellipsis">
    物理经验分享
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tygx_exp/tech_fht/">
<span class="md-ellipsis">
    技术经验分享
  </span>
</a>
</li>
<li class="md-nav__item">
<a class="md-nav__link" href="../../../tygx_exp/%E4%B8%80%E4%BA%9B%E8%B5%84%E6%BA%90/">
<span class="md-ellipsis">
    一些资源
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_7" type="checkbox"/>
<label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
<span class="md-ellipsis">
    动手学深度学习
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_7_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_7">
<span class="md-nav__icon md-icon"></span>
            动手学深度学习
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../Dive%20into%20deep%20learning/Dive%20into%20Deep%20Learning/">
<span class="md-ellipsis">
    Dive into Deep Learning
  </span>
</a>
</li>
</ul>
</nav>
</li>
<li class="md-nav__item md-nav__item--nested">
<input class="md-nav__toggle md-toggle" id="__nav_8" type="checkbox"/>
<label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
<span class="md-ellipsis">
    总结
  </span>
<span class="md-nav__icon md-icon"></span>
</label>
<nav aria-expanded="false" aria-labelledby="__nav_8_label" class="md-nav" data-md-level="1">
<label class="md-nav__title" for="__nav_8">
<span class="md-nav__icon md-icon"></span>
            总结
          </label>
<ul class="md-nav__list" data-md-scrollfix="">
<li class="md-nav__item">
<a class="md-nav__link" href="../../../summary/2024summer_vacation/">
<span class="md-ellipsis">
    2024年高三-大一暑假总结
  </span>
</a>
</li>
</ul>
</nav>
</li>
</ul>
</nav>
</div>
</div>
</div>
<div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc">
<div class="md-sidebar__scrollwrap">
<div class="md-sidebar__inner">
<nav aria-label="目录" class="md-nav md-nav--secondary">
</nav>
</div>
</div>
</div>
<div class="md-content" data-md-component="content">
<article class="md-content__inner md-typeset">
<a class="md-content__button md-icon" href="https://github.com/WncFht/WncFht.github.io/raw/master/docs/cs61b/note_en/19. Hashing.md" title="查看本页的源代码">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M17 18c.56 0 1 .44 1 1s-.44 1-1 1-1-.44-1-1 .44-1 1-1m0-3c-2.73 0-5.06 1.66-6 4 .94 2.34 3.27 4 6 4s5.06-1.66 6-4c-.94-2.34-3.27-4-6-4m0 6.5a2.5 2.5 0 0 1-2.5-2.5 2.5 2.5 0 0 1 2.5-2.5 2.5 2.5 0 0 1 2.5 2.5 2.5 2.5 0 0 1-2.5 2.5M9.27 20H6V4h7v5h5v4.07c.7.08 1.36.25 2 .49V8l-6-6H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h4.5a8.2 8.2 0 0 1-1.23-2"></path></svg>
</a>
<h1 id="lecture">Lecture<a class="headerlink" href="#lecture" title="Permanent link">¶</a></h1>
<ul>
<li><a href="https://youtu.be/ix2frc8dHbw?list=PL8FaHk7qbOD67rFIKNVkDcucFwNjUq9-d&amp;t=127">Hash Codes and the Pigeonhole Principle</a></li>
<li><a href="https://youtu.be/dF2DL98S5PY?list=PL8FaHk7qbOD67rFIKNVkDcucFwNjUq9-d&amp;t=5">Hash Table is the most popular way to implemente a set or map</a></li>
<li><a href="https://youtu.be/dF2DL98S5PY?list=PL8FaHk7qbOD67rFIKNVkDcucFwNjUq9-d&amp;t=207">Natural % (-1 % 4 = 3) in Java is <code>Math.floorMod</code></a></li>
<li><code>-1 % 4 == -1</code></li>
<li><code>Math.floorMod</code> is for other purpose. It happened to have the function we want.</li>
<li><span class="arithmatex">\(-1 = 4(-1) + 3\)</span></li>
<li>The default % requires <code>(a / b) * b + a % b == a</code>.</li>
<li><code>(-1 / 4) * 4 == 0 * 4 == 0</code>, thus <code>-1 % 4 == -1</code>.</li>
<li><a href="https://youtu.be/14f8LxYREFQ?list=PL8FaHk7qbOD67rFIKNVkDcucFwNjUq9-d&amp;t=75">Good HashCode philosophy</a></li>
<li>Java 8 hash code for strings represents strings as base 31 number.</li>
<li>Real hash codes don't care about uniqueness.</li>
<li>Stores calculated has code so future <code>hashCode</code> calls are faster.</li>
<li><a href="https://youtu.be/14f8LxYREFQ?list=PL8FaHk7qbOD67rFIKNVkDcucFwNjUq9-d&amp;t=243">In Base 126, any string that ends in the same last 32 characters has the same hash code</a></li>
<li>Because of overflow.</li>
<li><a href="https://www.youtube.com/watch?v=14f8LxYREFQ&amp;list=PL8FaHk7qbOD67rFIKNVkDcucFwNjUq9-d&amp;index=8">A typical hash code base is a small prime</a></li>
<li>Using a prime base yields better "randomness" (back reference to Good HashCode philosophy)</li>
<li><a href="https://youtu.be/14f8LxYREFQ?list=PL8FaHk7qbOD67rFIKNVkDcucFwNjUq9-d&amp;t=360">Examples on hashing a collection and recursive data sturectures</a></li>
</ul>
<h1 id="overview">Overview<a class="headerlink" href="#overview" title="Permanent link">¶</a></h1>
<p><strong>Brute force approach.</strong> All data is just a sequence of bits. Can treat key as a gigantic number and use it as an array index. Requires exponentially large amounts of memory.</p>
<p><strong>Hashing.</strong> Instead of using the entire key, represent entire key by a smaller value. In Java, we hash objects with a hashCode() method that returns an integer (32 bit) representation of the object.</p>
<p><strong>hashCode() to index conversion.</strong> To use hashCode() results as an index, we must convert the <code>hashCode()</code> to a valid index. Modulus does not work since hashCode may be negative. Taking the absolute value then the modulus also doesn’t work since <code>Math.abs(Integer.MIN_VALUE)</code> is negative. Typical approach: use hashCode &amp; 0x7FFFFFFF instead before taking the modulus.</p>
<p><strong>Hash function.</strong> Converts a key to a value between 0 and M-1. In Java, this means calling <code>hashCode()</code>, setting the sign bit to 0, then taking the modulus.</p>
<p><strong>Designing good hash functions.</strong> Requires a blending of sophisticated mathematics and clever engineering; beyond the scope of this course. Most important guideline is to use all the bits in the key. If <code>hashCode()</code> is known and easy to invert, adversary can design a sequence of inputs that result in everything being placed in one bin. Or if <code>hashCode()</code> is just plain bad, same thing can happen.</p>
<p><strong>Uniform hashing assumption.</strong> For our analyses below, we assumed that our hash function distributes all input data evenly across bins. This is a strong assumption and never exactly satisfied in practice.</p>
<p><strong>Collision resolution.</strong> Two philosophies for resolving collisions discussed in class: Separate (a.k.a. external) chaining and ‘open addressing’.</p>
<p><strong>Separate-chaining hash table.</strong> Key-value pairs are stored in a linked list of nodes of length M. Hash function tells us which of these linked lists to use. Get and insert both require potentially scanning through entire list.</p>
<p><strong>Resizing separate chaining hash tables.</strong> Understand how resizing may lead to objects moving from one linked list to another. Primary goal is so that M is always proportional to N, i.e. maintaining a load factor bounded above by some constant.</p>
<p><strong>Performance of separate-chaining hash tables.</strong> Cost of a given get, insert, or delete is given by number of entries in the linked list that must be examined.
  - The expected amortized search and insert time (assuming items are distributed evenly) is N / M, which is no larger than some constant (due to resizing).</p>
<p><strong>Linear-probing hash tables.</strong> We didn’t go over this in detail in 61B, but it’s where you use empty array entries to handle collisions, e.g. linear probing. Not required for exam.</p>
<h1 id="hashing">Hashing<a class="headerlink" href="#hashing" title="Permanent link">¶</a></h1>
<h2 id="issues-with-what-weve-seen-so-far">Issues with what we've seen so far<a class="headerlink" href="#issues-with-what-weve-seen-so-far" title="Permanent link">¶</a></h2>
<p>So far, we've looked at a few data structures for efficiently searching for the existence of items within the data structure. We looked at Binary Search Trees, then made them balanced using 2-3 Trees.</p>
<p>However, there are some limitations that these structures impose (yes, even 2-3 trees!)</p>
<ul>
<li>They require that items be comparable. How do you decide where a new item goes in a BST? You have to answer the question "are you smaller than or bigger than the root"? For some objects, this question may make no sense.</li>
<li>They give a complexity of <span class="arithmatex">\(\Theta(\log N)\)</span>. Is this good? Absolutely. But maybe we can do better.</li>
</ul>
<h2 id="a-first-attempt-dataindexedintegerset">A first attempt: <code>DataIndexedIntegerSet</code><a class="headerlink" href="#a-first-attempt-dataindexedintegerset" title="Permanent link">¶</a></h2>
<p>Let us begin by considering the following approach.</p>
<p>For now, we're only going to try to improve issue #2 above (improve complexity from <span class="arithmatex">\(\Theta(\log N)\)</span> to <span class="arithmatex">\(\Theta(1)\)</span>. We're going to not worry about issue #1 (comparability). In fact, we're going to only consider storing and searching for <code>int</code>s.</p>
<p>Here's an idea: let's create an ArrayList of type boolean and size 2 billion. Let everything be <code>false</code> by default.</p>
<ul>
<li>The <code>add(int x)</code> method simply sets the x position in our ArrayList to true. This takes <span class="arithmatex">\(\Theta(1)\)</span> time.</li>
<li>The <code>contains(int x)</code> method simply returns whether the <code>x</code> position in our ArrayList is <code>true</code> or <code>false</code>. This also takes <span class="arithmatex">\(\Theta(1)\)</span> time!</li>
</ul>
<p>What are some potential issues with this approach?</p>
<ul>
<li>Extremely wasteful. If we assume that a <code>boolean</code> takes 1 byte to store, the above needs 2GB of space per <code>new DataIndexedIntegerSet()</code>. Moreover, the user may only insert a handful of items...</li>
<li>What do we do if someone wants to insert a <code>String</code>?</li>
<li>Let's look at this next. Of course, we may want to insert other things, like Dogs. That'll come soon!</li>
</ul>
<h2 id="solving-the-word-insertion-problem">Solving the word-insertion problem<a class="headerlink" href="#solving-the-word-insertion-problem" title="Permanent link">¶</a></h2>
<h3 id="strategy-1-use-the-first-letter">Strategy 1: Use the first letter.<a class="headerlink" href="#strategy-1-use-the-first-letter" title="Permanent link">¶</a></h3>
<h3 id="strategy-2-avoiding-collisions">Strategy 2: Avoiding collisions<a class="headerlink" href="#strategy-2-avoiding-collisions" title="Permanent link">¶</a></h3>
<p><strong>Any</strong> 4 digit number can be written <strong>uniquely</strong> in this form. What that means is given 4 digits, <span class="arithmatex">\(a, b, c, d\)</span> we can write a <span class="arithmatex">\(\cdot 10^3 + b \cdot 10^2 + c \cdot 10^1 + d \cdot 10^0\)</span> and that gives us a unique 4 digit number: <span class="arithmatex">\(abcd\)</span>.</p>
<p>Why is <span class="arithmatex">\(10\)</span>? It's because there are 10 unique digits in our decimal system: <span class="arithmatex">\(0, 1, 2, 3, 4, 5, 6, 7, 8, 9\)</span>.</p>
<p>Similarly, there are <span class="arithmatex">\(26\)</span> unique characters in the english lowercase alphabet. Why not give each one a number: <span class="arithmatex">\(a=1, b=2, \ldots, z=26\)</span>. Now, we can write any unique lowercase string in <strong>base 26</strong>. </p>
<p><strong>This representation gives a unique integer to every english word containing lowercase letters, much like using base 10 gives a unique representation to every number. We are guaranteed to not have collisions.</strong></p>
<h3 id="where-are-we">Where are we?<a class="headerlink" href="#where-are-we" title="Permanent link">¶</a></h3>
<p>Recall, we started with wanting to</p>
<ul>
<li>
<p>Be better than <span class="arithmatex">\(\Theta(\log N)\)</span>. We've now done this for integers and for single english words.</p>
</li>
<li>
<p>Allow for non-comparable items. We haven't touched this yet, although we are getting there. So far, we've only learnt how to add integers and english words, both of which are comparable, <em>but, have we ever used the fact that they are comparable?</em> I.e., have we ever tried to compare them (like we did in BSTs)? No. So we're getting there, but we haven't actually inserted anything non-comparable yet.</p>
</li>
<li>
<p>We have data structures that insert integers and english words. Let's make a quick visit to inserting arbitrary <code>String</code> objects, with spaces and all that. And maybe even insert other languages and emojis!</p>
</li>
<li>
<p>Further recall that our approach is still very wasteful of memory. We haven't solved that issue yet!</p>
</li>
</ul>
<h2 id="handling-integer-overflow-and-hash-codes">Handling Integer Overflow and Hash Codes<a class="headerlink" href="#handling-integer-overflow-and-hash-codes" title="Permanent link">¶</a></h2>
<h3 id="overflow-issues">Overflow issues<a class="headerlink" href="#overflow-issues" title="Permanent link">¶</a></h3>
<h3 id="the-inevitable-truth">The inevitable truth.<a class="headerlink" href="#the-inevitable-truth" title="Permanent link">¶</a></h3>
<p>From the smallest to the largest possible integers, there are a total of 4,294,967,296 integers in Java. Yet, there are more than that many total objects that could be created in Java, and so collision is inevitable.</p>
<p><strong>We must handle collisions.</strong></p>
<h3 id="a-subtle-point">A subtle point<a class="headerlink" href="#a-subtle-point" title="Permanent link">¶</a></h3>
<p>Note that our problem is not inherently the fact that overflow <em>exists</em>. All we wanted was for a way to convert a <code>String</code> to a number. Even if overflow <em>exists</em>, we do manage to convert a <code>String</code> to a number. The inherent problem is caused by the fact that <strong>overflow causes collisions</strong>, which we don't know how to deal with.</p>
<p>Overflow is often bad in other contexts, for instance, it has some unexpected results if you don't know that overflow happens. But here, overflow's existence doesn't ruin the fact that we wanted to convert a <code>String</code> to an <code>int</code>. So, we have that going for us.</p>
<h3 id="hash-codes">Hash Codes<a class="headerlink" href="#hash-codes" title="Permanent link">¶</a></h3>
<p>In computer science, taking an object and converting it into some integer is called "computing the hash code of the object". For instance, the hashcode of "melt banana" is 839099497.</p>
<p>We looked at how to compute this hashcode for Strings. For other Objects, there are one of two things we do:</p>
<ul>
<li>Every Object in Java has a default <code>.hashcode()</code> method, which we can use. Java computes this by figuring out <em>where the <code>Object</code> sits in memory</em> (every section of the memory in your computer has an address!), and uses that memory's address to do something similar to what we did with Strings. This methods gives a <em>unique</em> hashcode for every single Java object.</li>
<li>Sometimes, we write our own <code>hashCode</code> method. For example, given a <code>Dog</code>, we may use a combination of its <code>name</code>, <code>age</code> and <code>breed</code> to generate a <code>hashcode</code>.</li>
</ul>
<h3 id="properties-of-hashcodes">Properties of HashCodes<a class="headerlink" href="#properties-of-hashcodes" title="Permanent link">¶</a></h3>
<p>Hash codes have three necessary properties, which means a hash code must have these properties in order to be <strong>valid</strong>:</p>
<ol>
<li>It must be an Integer</li>
<li>If we run <code>.hashCode()</code> on an object twice, it should return the same number</li>
<li>Two objects that are considered <code>.equal()</code> must have the same hash code.</li>
</ol>
<p>Not all hash codes are created equal, however. If you want your hash code to be considered a <strong>good</strong> hash code, it should:
- Distribute items evenly</p>
<p><strong>Note that at this point, we know how to add arbitrary objects to our data structure, not only strings.</strong></p>
<h3 id="pending-issues">Pending issues<a class="headerlink" href="#pending-issues" title="Permanent link">¶</a></h3>
<ul>
<li>Space: we still haven't figured out how to use less space.</li>
<li>Handling Collisions: we have determined that we need to handle collisions, but we haven't actually handled them yet.</li>
</ul>
<h2 id="handling-collisions">Handling Collisions<a class="headerlink" href="#handling-collisions" title="Permanent link">¶</a></h2>
<p>Time to address the elephant in the room. The big idea is to change our array ever so slightly to not contain just items, but instead contain a LinkedList (or any other List) of items. So...</p>
<p>Everything in the array is originally empty. If we get a new item, and its hashcode is <span class="arithmatex">\(h\)</span>:</p>
<ul>
<li>If there is nothing at index <span class="arithmatex">\(h\)</span> at the moment, we'll create a new <code>LinkedList</code> for index <span class="arithmatex">\(h\)</span>, place it there, and then add the new item to the newly created <code>LinkedList</code>.</li>
<li>If there is already something at index <span class="arithmatex">\(h\)</span>, then there is already a <code>LinkedList</code> there. We simply add our new item to that <code>LinkedList</code>. </li>
</ul>
<p>Note: Our data structure is not allowed to have any duplicate items / keys. <em>Therefore, we must first check whether the item we are trying to insert is already in this LinkedList. If it is, we do nothing!</em> This also means that we will insert to the END of the linked list, since we need to check all of the elements anyways.</p>
<h3 id="concrete-workflow">Concrete workflow<a class="headerlink" href="#concrete-workflow" title="Permanent link">¶</a></h3>
<ul>
<li><code>add</code> item</li>
<li>Get hashcode (i.e., index) of item.</li>
<li>If index has no item, create new List, and place item there.</li>
<li>If index has a List already, check the List to see if item is already in there. If not, add item to List.</li>
<li><code>contains</code> item</li>
<li>Get hashcode (i.e., index) of item.</li>
<li>If index is empty, return false.</li>
<li>Otherwise, check all items in the List at that index, and if the item exists, return true.</li>
</ul>
<h3 id="runtime-complexity">Runtime Complexity<a class="headerlink" href="#runtime-complexity" title="Permanent link">¶</a></h3>
<p><strong>Why is contains <span class="arithmatex">\(\Theta(Q)\)</span>?</strong></p>
<p>Because we need to look at all the items in the LinkedList at the hashcode (i.e., index).</p>
<p><strong>Why is add <span class="arithmatex">\(\Theta(Q)\)</span>?</strong></p>
<p>Can't we just add to the beginning of the <code>LinkedList</code>, which takes <span class="arithmatex">\(\Theta(1)\)</span> time? No! Because <strong>we have to check to make sure the item isn't already in the linked list.</strong></p>
<h3 id="you-gain-some-you-lose-some">You gain some, you lose some.<a class="headerlink" href="#you-gain-some-you-lose-some" title="Permanent link">¶</a></h3>
<ul>
<li>Space: Still unsolved.</li>
<li>Handling collisions: done.</li>
<li>Runtime complexity? We've lost some. In the worst case, all of our items' hashcode could be the same, and so they all go to the same index. If we have <span class="arithmatex">\(N\)</span> items, it's possible that they <strong>all</strong> go to the same index, creating a linked list of length <span class="arithmatex">\(N\)</span>, providing a runtime of <span class="arithmatex">\(\Theta(N)\)</span>.</li>
</ul>
<h2 id="solving-space">Solving space<a class="headerlink" href="#solving-space" title="Permanent link">¶</a></h2>
<h3 id="why-keep-an-arraylist-of-size-4-billion-around">Why keep an ArrayList of size 4 billion around?<a class="headerlink" href="#why-keep-an-arraylist-of-size-4-billion-around" title="Permanent link">¶</a></h3>
<p>Because we wanted to be able to add every <code>integer</code> / word / <code>String</code> to our data structure. But now that we allow for collisions <em>anyway</em>, we can relax this a bit.</p>
<p>An idea: modulo.</p>
<h3 id="where-we-are">Where we are?<a class="headerlink" href="#where-we-are" title="Permanent link">¶</a></h3>
<ul>
<li>Space: Has been solved.</li>
<li>Handling collisions: Done!</li>
<li>Runtime complexity? We lost some earlier at <span class="arithmatex">\(\Theta(Q)\)</span> for <code>add</code> and <code>contains</code>, and then in the <code>Solving</code> space section, we realized that we lost some more because our <code>LinkedLists</code> will potentially be larger (so <code>Q</code> will be larger.)</li>
</ul>
<h2 id="our-final-data-structure-hashtable">Our Final Data Structure: <code>HashTable</code><a class="headerlink" href="#our-final-data-structure-hashtable" title="Permanent link">¶</a></h2>
<p>What we've created now is called a <code>HashTable</code>.</p>
<ul>
<li>Inputs are converted by a hash function (<code>hashcode</code>) into an integer. Then, they're converted to a valid index using the modulus operator (reduce function). Then, they're added at that index (dealing with collisions using <code>LinkedLists</code>).</li>
<li>contains works in a similar fashion by figuring out the valid index, and looking in the corresponding <code>LinkedList</code> for the item.</li>
</ul>
<h3 id="dealing-with-runtime">Dealing with Runtime<a class="headerlink" href="#dealing-with-runtime" title="Permanent link">¶</a></h3>
<p>In the worst case, all items get sent to the same index! That is, we have just 1 LinkedList, and it has all 100 items.</p>
<p>There are two ways to try to fix this:
- Dynamically growing our hashtable.
- Improving our Hashcodes</p>
<h3 id="dynamically-growing-the-hash-table">Dynamically growing the hash table<a class="headerlink" href="#dynamically-growing-the-hash-table" title="Permanent link">¶</a></h3>
<p>Suppose we have <span class="arithmatex">\(M\)</span> buckets (indices) and <span class="arithmatex">\(N\)</span> items. We say that our <strong>load factor</strong> is <span class="arithmatex">\(N/M\)</span>. (Note that the load factor is equivalent to our <strong>best</strong> case runtime, which items are evenly distributed)</p>
<ol>
<li>We have incentive to keep our load factor low (after all, it is the best runtime we could possible achieve!).</li>
<li>We do this by setting a <strong>load factor threshold</strong>. As soon as the load factor becomes bigger than this threshold, we resize.</li>
<li>At this point, <em>assuming items are evenly distributed</em>, all the lists will be approximately <span class="arithmatex">\(N/M\)</span> items long, resulting in <span class="arithmatex">\(\Theta(N/M)\)</span> runtime. Remember that <span class="arithmatex">\(N/M\)</span> is only allowed to be under a constant <strong>load factor threshold</strong>, and so, <span class="arithmatex">\(\Theta(N/M) = \Theta(1)\)</span>.</li>
<li>Note also that resizing takes <span class="arithmatex">\(\Theta(N)\)</span> time.</li>
<li>Of course, we need to revisit our assumption of assuming items are evenly distributed. If items are not evenly distributed, our runtime will be <span class="arithmatex">\(\Theta(N)\)</span> because there could be a single linked list of size <span class="arithmatex">\(N\)</span>.</li>
</ol>
<p>A small point: when doing the resize, we don't actually need to check if the items are already present in the <code>LinkedList</code> or not (because we know there are no duplicates), so we can just add <em>each ite</em>m in <span class="arithmatex">\(\Theta(1)\)</span> time for sure by adding it to the front of the linked list. (Recall that usually we have to search the <code>LinkedList</code> to make sure the item isn't there... but we can skip that step when resizing.)</p>
<h3 id="evenly-distributed">Evenly distributed?<a class="headerlink" href="#evenly-distributed" title="Permanent link">¶</a></h3>
<p>Items will distribute evenly if we have good hash codes (i.e. hashcodes which give fairly random values for different items.) Doing this in general is.. well... hard.</p>
<p>Some general good rules of thumb:</p>
<ul>
<li>Use a 'base' strategy similar to the one we developed earlier.</li>
<li>Use a 'base' that's a small prime.</li>
<li>Base 126 isn't actually very good, because using base 126 means that any string that ends in the same last 32 characters has the same hashcode.</li>
<li>This happens because of overflow.</li>
<li>Using prime numbers helps avoid overflow issues (i.e., collisions due to overflow).</li>
<li>Why a small prime? Because it's easier to compute.</li>
</ul>
</article>
</div>
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
</div>
<button class="md-top md-icon" data-md-component="top" hidden="" type="button">
<svg viewbox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"></path></svg>
  回到页面顶部
</button>
</main>
<footer class="md-footer">
<div class="md-footer-meta md-typeset">
<div class="md-footer-meta__inner md-grid">
<div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" rel="noopener" target="_blank">
      Material for MkDocs
    </a>
</div>
</div>
</div>
</footer>
</div>
<div class="md-dialog" data-md-component="dialog">
<div class="md-dialog__inner md-typeset"></div>
</div>
<div class="md-progress" data-md-component="progress" role="progressbar"></div>
<script id="__config" type="application/json">{"base": "../../..", "features": ["content.code.annotate", "content.action.view", "navigation.tracking", "navigation.tabs", "navigation.indexes", "navigation.top", "navigation.instant", "navigation.instant.progress", "content.code.copy", "navigation.sections", "toc.follow", "search.highlight", "search.share", "search.suggest", "navigation.tabs.sticky"], "search": "../../../assets/javascripts/workers/search.07f07601.min.js", "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}}</script>
<script src="../../../assets/javascripts/bundle.56dfad97.min.js"></script>
<script src="../../../js/katex.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/katex.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.7/contrib/auto-render.min.js"></script>
<script id="init-glightbox">const lightbox = GLightbox({"touchNavigation": true, "loop": false, "zoomable": true, "draggable": true, "openEffect": "zoom", "closeEffect": "zoom", "slideEffect": "slide"});
document$.subscribe(() => { lightbox.reload() });
</script></body>
</html>